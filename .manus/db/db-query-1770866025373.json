{
  "query": "CREATE TABLE `aiInsights` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`insights` json NOT NULL,\n\t`recommendations` json NOT NULL,\n\t`summary` text,\n\t`generatedAt` timestamp NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `aiInsights_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `commits` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`repositoryId` int NOT NULL,\n\t`commitHash` varchar(255) NOT NULL,\n\t`message` text,\n\t`authorName` varchar(255),\n\t`authorEmail` varchar(320),\n\t`committedAt` timestamp NOT NULL,\n\t`additions` int NOT NULL DEFAULT 0,\n\t`deletions` int NOT NULL DEFAULT 0,\n\t`filesChanged` int NOT NULL DEFAULT 0,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `commits_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `dailyAnalytics` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`date` timestamp NOT NULL,\n\t`commitsCount` int NOT NULL DEFAULT 0,\n\t`repositoriesCount` int NOT NULL DEFAULT 0,\n\t`languagesCount` int NOT NULL DEFAULT 0,\n\t`totalAdditions` int NOT NULL DEFAULT 0,\n\t`totalDeletions` int NOT NULL DEFAULT 0,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `dailyAnalytics_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `emailNotifications` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`type` enum('weekly_summary','monthly_summary') NOT NULL,\n\t`sentAt` timestamp NOT NULL,\n\t`status` enum('sent','failed','pending') NOT NULL DEFAULT 'pending',\n\t`content` json,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `emailNotifications_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `languageProficiency` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`language` varchar(100) NOT NULL,\n\t`commitCount` int NOT NULL DEFAULT 0,\n\t`repositoryCount` int NOT NULL DEFAULT 0,\n\t`firstSeenAt` timestamp NOT NULL,\n\t`lastSeenAt` timestamp NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `languageProficiency_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `repositories` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`githubRepoId` varchar(255) NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`url` varchar(500) NOT NULL,\n\t`description` text,\n\t`language` varchar(100),\n\t`stars` int NOT NULL DEFAULT 0,\n\t`forks` int NOT NULL DEFAULT 0,\n\t`size` int NOT NULL DEFAULT 0,\n\t`isPrivate` boolean NOT NULL DEFAULT false,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `repositories_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `userMetrics` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`consistencyScore` decimal(5,2) NOT NULL DEFAULT '0',\n\t`skillGrowthTrend` decimal(5,2) NOT NULL DEFAULT '0',\n\t`learningVelocity` decimal(8,2) NOT NULL DEFAULT '0',\n\t`projectDepth` decimal(5,2) NOT NULL DEFAULT '0',\n\t`depthBreadthRatio` decimal(5,2) NOT NULL DEFAULT '0',\n\t`totalCommits` int NOT NULL DEFAULT 0,\n\t`totalRepositories` int NOT NULL DEFAULT 0,\n\t`uniqueLanguages` int NOT NULL DEFAULT 0,\n\t`lastCalculatedAt` timestamp NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `userMetrics_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `userMetrics_userId_unique` UNIQUE(`userId`)\n);\nALTER TABLE `users` ADD `githubUsername` varchar(255);\nALTER TABLE `users` ADD `githubId` varchar(255);\nALTER TABLE `users` ADD `githubAccessToken` text;\nALTER TABLE `users` ADD `githubConnected` boolean DEFAULT false NOT NULL;\nALTER TABLE `users` ADD `lastGitHubSync` timestamp;\nALTER TABLE `users` ADD `emailNotificationsEnabled` boolean DEFAULT true NOT NULL;\nALTER TABLE `users` ADD `notificationFrequency` enum('weekly','monthly') DEFAULT 'weekly' NOT NULL;\nALTER TABLE `users` ADD CONSTRAINT `users_githubId_unique` UNIQUE(`githubId`);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2LorPUy6E5Rrsad.df8d673963f6 --database VsTC5N2jAPNbPkkkPR5BwW --execute CREATE TABLE `aiInsights` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`insights` json NOT NULL,\n\t`recommendations` json NOT NULL,\n\t`summary` text,\n\t`generatedAt` timestamp NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `aiInsights_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `commits` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`repositoryId` int NOT NULL,\n\t`commitHash` varchar(255) NOT NULL,\n\t`message` text,\n\t`authorName` varchar(255),\n\t`authorEmail` varchar(320),\n\t`committedAt` timestamp NOT NULL,\n\t`additions` int NOT NULL DEFAULT 0,\n\t`deletions` int NOT NULL DEFAULT 0,\n\t`filesChanged` int NOT NULL DEFAULT 0,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `commits_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `dailyAnalytics` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`date` timestamp NOT NULL,\n\t`commitsCount` int NOT NULL DEFAULT 0,\n\t`repositoriesCount` int NOT NULL DEFAULT 0,\n\t`languagesCount` int NOT NULL DEFAULT 0,\n\t`totalAdditions` int NOT NULL DEFAULT 0,\n\t`totalDeletions` int NOT NULL DEFAULT 0,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `dailyAnalytics_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `emailNotifications` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`type` enum('weekly_summary','monthly_summary') NOT NULL,\n\t`sentAt` timestamp NOT NULL,\n\t`status` enum('sent','failed','pending') NOT NULL DEFAULT 'pending',\n\t`content` json,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `emailNotifications_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `languageProficiency` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`language` varchar(100) NOT NULL,\n\t`commitCount` int NOT NULL DEFAULT 0,\n\t`repositoryCount` int NOT NULL DEFAULT 0,\n\t`firstSeenAt` timestamp NOT NULL,\n\t`lastSeenAt` timestamp NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `languageProficiency_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `repositories` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`githubRepoId` varchar(255) NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`url` varchar(500) NOT NULL,\n\t`description` text,\n\t`language` varchar(100),\n\t`stars` int NOT NULL DEFAULT 0,\n\t`forks` int NOT NULL DEFAULT 0,\n\t`size` int NOT NULL DEFAULT 0,\n\t`isPrivate` boolean NOT NULL DEFAULT false,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `repositories_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `userMetrics` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`consistencyScore` decimal(5,2) NOT NULL DEFAULT '0',\n\t`skillGrowthTrend` decimal(5,2) NOT NULL DEFAULT '0',\n\t`learningVelocity` decimal(8,2) NOT NULL DEFAULT '0',\n\t`projectDepth` decimal(5,2) NOT NULL DEFAULT '0',\n\t`depthBreadthRatio` decimal(5,2) NOT NULL DEFAULT '0',\n\t`totalCommits` int NOT NULL DEFAULT 0,\n\t`totalRepositories` int NOT NULL DEFAULT 0,\n\t`uniqueLanguages` int NOT NULL DEFAULT 0,\n\t`lastCalculatedAt` timestamp NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `userMetrics_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `userMetrics_userId_unique` UNIQUE(`userId`)\n);\nALTER TABLE `users` ADD `githubUsername` varchar(255);\nALTER TABLE `users` ADD `githubId` varchar(255);\nALTER TABLE `users` ADD `githubAccessToken` text;\nALTER TABLE `users` ADD `githubConnected` boolean DEFAULT false NOT NULL;\nALTER TABLE `users` ADD `lastGitHubSync` timestamp;\nALTER TABLE `users` ADD `emailNotificationsEnabled` boolean DEFAULT true NOT NULL;\nALTER TABLE `users` ADD `notificationFrequency` enum('weekly','monthly') DEFAULT 'weekly' NOT NULL;\nALTER TABLE `users` ADD CONSTRAINT `users_githubId_unique` UNIQUE(`githubId`);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 9857
}